# 11월 27일의 TIL


# SQLite 동작 과정

안드로이드 앱 개발을 위한 SQLite 동작 방식은 
`SQLiteOpenHelper Class, SQLiteDatabase Class, Cursor Interface` 

3가지를 활용한다.



# CRUD

## CREATE

- **SQL 문**

```sql
// 테이블 생성
CREATE TABLE tableName ( id char(10) , age INTEGER );

// 데이터 삽입
INSERT INTO tablename VALUES('id' , 'age' )
```

- **안드로이드에서 사용하기**

```sql
btn_create.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {
                /* 테이블에 값 추가 */

                DB = myDBHelper.getWritableDatabase();
                DB.execSQL("INSERT INTO groupTBL VALUES('"
                        + et_name.getText().toString() +"',"
                        + et_num.getText().toString() + ");");
                DB.close();
            }
        });
```

## READ

- **SQL 문**

```sql
SELECT * FROM tablename // 전체 테이블 조회

SELECT id,birthYear FROM tablename WHERE birthYear <=1900;
// 테이블에서 특정 열에 조건을 걸어서 조회하기

SELECT * FROM tablename WHERE id ='kim'
// 테이블에서 특정 열의 값이 일치하는 것을 조회하기
```

- **안드로이드에서 사용하기**

```sql
btn_read.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {
                /*테이블 read */

                DB= myDBHelper.getReadableDatabase();
                Cursor cursor = DB.rawQuery("SELECT * FROM groupTBL;",null);

                String strNames = "그룹이름" + "\r\n" + "--------------" + "\r\n";
                String strNums = "인원"+ "\r\n" + "--------------" + "\r\n";

                while (cursor.moveToNext()){
                    strNames += cursor.getString(0) + "\r\n";
                    strNums += cursor.getString(1)+ "\r\n";
                }

                name_result.setText(strNames);
                num_result.setText(strNums);

                cursor.close();
                DB.close();
            }
        });
```

포인터인 Cursor를 사용해서 테이블을 저장시키고 커서를 다음으로 변경하면서 값 전체를 변수에 저장시켜 준다. 

## DELETE

- SQL문

```sql
DROP TABLE IF EXISTS groupTBL
```

- **안드로이드에서 사용하기**

```sql
sqLiteDatabase.execSQL("DROP TABLE IF EXISTS tablename");
```


# 한줄평

시험공부 그만하고 내가 하고싶은 공부 하고싶다,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
