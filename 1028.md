# 10월 28일의 TIL
## web


### html과 [app.py](http://app.py) 연결

```python
@app.route('/')
def home():
    return render_template('index.html')
```

reder_template 는 tamplates 폴더와 연결되어 있다. 그래서 templates 폴더 이름을 절대 바뀌어서는 안된다.

### jinja2 템플릿 엔진

```jsx
<img src="{{ url_for('static', filename='rome.jpg') }}"/>
```

html코드 내에서 파이썬 백엔드에서 보내는 정보의 출력이나, html코드의 동적 제어등을 위해 사용하는 플라스크 기본 템플릿엔진이다.

후처리 해주는 기능, 장점은 html안에서 원래 쓸 수 없는데 쓸 수가 있음!

### GET,POST method
- GET        →      통상적으로! 데이터 조회(Read)를 요청할 때 <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 예) 영화 목록 조회 <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;             →     데이터 전달 : URL 뒤에 물음표를 붙여 key=value로 전달<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                  →     예: google.com?q=북극곰
- POST     →      통상적으로! 데이터 생성(Create), 변경(Update), 삭제(Delete) 요청 할 때 <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                          예) 회원가입, 회원탈퇴, 비밀번호 수정 <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                →     데이터 전달 : 바로 보이지 않는 HTML body에 key:value 형태로 전달

GET 방식을 사용할 땐 web 에서 반응을 바로바로 살펴볼 수 있다. GET방식으로 ajax를 사용할 땐 data{} 에 빈값으로 들어가도 된다.

POST 방식을 사용할 땐 print 문을 통해 개발환경의 log를 통해 확인 가능, ajax 사용할 때 서버로 보내는 값들은 data{}에 담아서 보내준다.

### ajax 에러 처리
```jsx
success: function (response) { // 성공하면
                    if (response["result"] === "success") {
                        alert(response["msg"]);
                        $("#post-url").val("")
                        $("#post-comment").val("")
                        $("#cards-box").load(window.location.href + "#cards-box");
                    }
                },
                error : function (request,error){ // 실패하면
                    alert(`error : ${request.status}\n유효한 url이 아닙니다.`)
                }
```
- success 함수가 끝나고 , 뒤에 error 함수를 작성하여 에러가 일어났을 경우 로직을 작성해준다.

- 웹에서 div 단위로 새로고침하기

동작이 일어났을 때 페이지 전체를 새로고침하는 것이 아니라 특정 class 또는 id만 새로고침해야 할 때는
```jsx
$("css 선택자").load(window.location.href + "css 선택자");
```
위와 같은 코드를 사용한다.

---
## 한줄평

하고자 하는게 있을 때 구글링 키워드 잘 선택하는 것도 능력이다!
검색능력도 실력이기 때문에 더더더 능률을 키워나가야지
그리구 목욜 금욜 여행간당!!!! 





